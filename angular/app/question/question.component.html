<div class="row">
  <section class="col-lg-3">
    <div class="card">
      <div class="card-body">
        <h4> {{countAnsweredQuestions }} / {{questions.length}}</h4>
      </div>
    </div>
    <ul class="list-group">
      <li *ngFor="let question of questions; let i = index" [ngClass]="{'active':selected == i }" (click)="changeQuestion($event,i)" class="list-group-item">
        <i class="fas fa-check-circle" *ngIf="questions[i].answered"></i>
        <i class="far fa-circle" *ngIf="!questions[i].answered"></i> Question {{i +1}}
        <i class="fa fa-camera" *ngIf="questions[i].containSchema" data-toggle="tooltip" data-placement="top" title="This question contain a schema"></i>
      </li>


    </ul>
  </section>

  <section class="col-lg-9">
    <div class="row">
      <div class="col-lg-12">
        <nav class="">
          <div class="btn-group  btn-group-sm mr-2" role="group" aria-label="First group">
            <button type="button" (click)="previousQuestion($event)" [ngClass]="{'disabled':!previous }" class="btn btn-primary">Precedent</button>
            <button type="button" (click)="nextQuestion($event)" [ngClass]="{'disabled':!next }" class="btn btn-primary">Suivant</button>
          </div>

          <button type="button" (click)="correct()" class="btn btn-sm btn-primary">Correct</button> Score : {{score}} Your are <span *ngIf="!passing">NOT</span> passing

          <div class="btn-group btn-group-sm" role="group" aria-label="Button group with nested dropdown">
            <button id="btnGroupDrop1" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-cog"></i>
    </button>
            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
              <a class="dropdown-item" href="#">Endk</a>
              <a class="dropdown-item" href="#">Dropdown link</a>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <br/>
    <div class="row">
      <div class="col-lg-9">
        <div class="card">
          <div class="card-body">
            <h4>{{questions[selected].content}}</h4>
            <p *ngIf="questions[selected].family"> <small>{{questions[selected].family.name }} ({{questions[selected].family.code}})</small></p>
          </div>
        </div>
      </div>
      <div class="col-lg-3 other-infos">
        <p>
          <small>Number : {{selected +1 }}</small><br/>
          <small *ngIf="questions[selected].id">  Id : {{questions[selected].id }}</small><br/>
          <small *ngIf="questions[selected].family">  Id : {{questions[selected].family.name }}</small><br/>
        </p>
      </div>
    </div>
    <br/>
    <img *ngIf="questions[selected].containSchema" height="150" src="/public/assets/img-exam/{{questions[selected].image.toLowerCase()}}" alt="{{questions[selected].image.toLowerCase()}}" />
    <br/>
    <br/>
    <div class="row">
      <div class="col-lg-12">
        <ul class="list-group">
          <li (click)="answer($event, i)" [ngClass]="{'active':questions[selected].choices[i].selected }" *ngFor="let choice of questions[selected].choices; let i = index" class="list-group-item">
            {{choice.content}}
          </li>
        </ul>
      </div>
    </div>
  </section>
</div>
<style>

</style>
<script>
  $(function() {
    $('[data-toggle="tooltip"]').tooltip()
  })
</script>